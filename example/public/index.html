<!DOCTYPE html>
<html>
    
    <head>
        <title>
            Example
        </title>
        <!-- Viewport mobile tag for sensible mobile support -->
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"
        />
	    <link rel="stylesheet" type="text/css" href="styles/mixins.css" />
	    <link rel="stylesheet" type="text/css" href="styles/layout.css" />

		<!-- Core dependencies -->
		<!--
		<script type="text/javascript" src="lib/deps/$.js"></script>
		<script type="text/javascript" src="lib/deps/_.js"></script>
		<script type="text/javascript" src="lib/deps/Backbone.js"></script>
		<script type="text/javascript" src="lib/deps/async.js"></script>
		-->
		
		<!-- Core -->
		<!--
		<script type="text/javascript" src="lib/mast.js"></script>
		<script type="text/javascript" src="lib/Util.js"></script>
		<script type="text/javascript" src="lib/define.js"></script>
		<script type="text/javascript" src="lib/Component.js"></script>
		<script type="text/javascript" src="lib/Region.js"></script>
		<script type="text/javascript" src="lib/Data.js"></script>
		<script type="text/javascript" src="lib/Router.js"></script>
		<script type="text/javascript" src="lib/Delegator.js"></script>
		<script type="text/javascript" src="lib/Comet.js"></script>
		<script type="text/javascript" src="lib/ready.js"></script>
		<script type="text/javascript" src="lib/raise.js"></script>
	-->


		<!-- To test compiled version: -->
		<script type="text/javascript" src="mast.dev.js"></script>
		<script>Mast.debug = false;</script>
		


		<!-- ******************************************************** -->
		<!-- App code -->
		<!-- ******************************************************** -->

		<!-- Simple version (script order doesn't matter) -->
		<script type="text/javascript" src="util.js"></script>
		<script type="text/javascript" src="components/Rainbow.js"></script>
		<script type="text/javascript" src="components/Row.js"></script>
		<script type="text/javascript">
			$.support.cors = true;
			
			Mast.raise({
				data: {
					// Custom global state can go here
					title: 'Mast 2.0',

					// But perhaps most notably
					// your models and collections also live here
					Rainbows: new (Backbone.Collection.extend({
						url: 'http://localhost:1337/rainbow',
						model: Backbone.Model.extend({
							urlRoot: 'http://localhost:1337/rainbow'
						})
					}))()

				}
			},function appReady () {
				Mast.log('App is ready.');
			});
		</script>

		<!-- ******************************************************** -->

    </head>
    







    <!-- ******************************************************** -->
    <!-- Initial HTML -->
    <!-- ******************************************************** -->
    <body>
    	<h1>Mast 2.0</h1>
    	<region default="Rainbow"></region>
    </body>
    <!-- ******************************************************** -->









    <!-- ******************************************************** -->
    <!-- Templates -->
    <!-- ******************************************************** -->

    <script type="text/template" data-id="Row">
    	<li style="background-color: <%= color %>;"><%= color %></li>
    </script>

    <script type="text/template" data-id="Rainbow">
	    <div class="no-select nav">
			<a class='add-thing'>Add Thing At End</a>
			<a class='remove-thing'>Remove First Thing</a>
			<a class='wipe-things'>Wipe All</a>
			<ul>
				<span class="emptyhtml">Out of rainbows...</span>
				<region data-id="rows" ></region>
			</ul>
		</div>
	</script>
	<!-- ******************************************************** -->


</html>
